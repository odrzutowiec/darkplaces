find_package(SDL2 REQUIRED)
find_package(PNG REQUIRED)
find_package(CURL REQUIRED)
find_package(ZLIB REQUIRED)

set(ENGINE_CL_INCLUDES ${SDL2_INCLUDE_DIR} ${PNG_INCLUDE_DIR} ${CURL_INCLUDE_DIR} ${ZLIB_INCLUDE_DIRS})
set(ENGINE_CL_LIBS "${SDL2_LIBRARY} ${PNG_LIBRARY} ${CURL_LIBRARY} ${ZLIB_LIBRARIES}")

if(ENGINE_CONFIG_MENU)
	set(ENGINE_CL_DFLAGS "${ENGINE_CL_DFLAGS} -DCONFIG_MENU")
endif()

if(ENGINE_CONFIG_CD)
	set(ENGINE_CL_DFLAGS "${ENGINE_CL_DFLAGS} -DCONFIG_CD")
endif()

if(ENGINE_LINK_TO_CRYPTO OR ENGINE_LINK_TO_CRYPTO_RIJNDAEL)
	find_package(Crypto REQUIRED)
	set(ENGINE_CL_INCLUDES ${ENGINE_CL_INCLUDES} ${CRYPTO_INCLUDE_DIR})
	if(ENGINE_LINK_TO_CRYPTO)
		set(ENGINE_CL_DFLAGS "${ENGINE_CL_DFLAGS} -DLINK_TO_CRYPTO")
		set(ENGINE_CL_LIBS "${ENGINE_CL_LIBS} ${d0_blind_id_LIBRARY}")
	endif()
	if(ENGINE_LINK_TO_CRYPTO_RIJNDAEL)
		set(ENGINE_CL_DFLAGS "${ENGINE_CL_DFLAGS} -DLINK_TO_CRYPTO_RIJNDAEL")
		set(ENGINE_CL_LIBS "${ENGINE_CL_LIBS} ${d0_rijndael_LIBRARY}")
	endif()
endif()

if(ENGINE_LINK_TO_LIBJPEG)
	find_package(JPEG REQUIRED)
	set(ENGINE_CL_INCLUDES ${ENGINE_CL_INCLUDES} ${JPEG_INCLUDE_DIR})
	set(ENGINE_CL_DFLAGS "${ENGINE_CL_DFLAGS} -DLINK_TO_LIBJPEG")
	set(ENGINE_CL_LIBS "${ENGINE_CL_LIBS} ${JPEG_LIBRARY}")
endif()

if(ENGINE_LINK_TO_LIBVORBIS)
	find_package(Vorbis REQUIRED)
	set(ENGINE_CL_INCLUDES ${ENGINE_CL_INCLUDES} ${VORBIS_INCLUDE_DIRS})
	set(ENGINE_CL_DFLAGS "${ENGINE_CL_DFLAGS} -DLINK_TO_LIBVORBIS")
	set(ENGINE_CL_LIBS "${ENGINE_CL_LIBS} ${VORBIS_LIBRARIES}")
endif()

if(ENGINE_LINK_TO_LIBODE)
	set(ENGINE_CL_DFLAGS "${ENGINE_CL_DFLAGS} -DUSEODE")
endif()

if(ENGINE_CONFIG_VIDEO_CAPTURE)
	set(ENGINE_CL_DFLAGS "${ENGINE_CL_DFLAGS} -DCONFIG_VIDEO_CAPTURE")
endif()

set(ENGINE_CL_FLAGS "${ENGINE_FLAGS} ${ENGINE_CL_DFLAGS}")
set(ENGINE_CL_LIBS "${ENGINE_CL_LIBS} ${ENGINE_LIBS}")
set(ENGINE_CL_INCLUDES ${INC_DIR} ${ENGINE_CL_INCLUDES})